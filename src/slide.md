---
theme: 正格と遅延
paginate: true
---

## 正格と遅延
### ~scalaを添えて~ 

---

## 正格
ボトムに評価されるすべてのxに対して式f(x)がボトムに評価される場合に関数fは正格である

※式の評価がいつまでたっても終了しない、あるいは明確な値を返さずにエラーをスローする場合をボトムに評価するという

---

## 非正格
- 非正格とは //todo
- 多くの言語のif構文は非正格である
    - 短絡論理関数（&& || を使うため）

---

## 正格評価（先行評価）とは

- 評価戦略の１つ
- 関数の引数が関数の本体で使われるかどうかに関係なく常に評価される(ref: TaPL)


f(g(1)) のとき g(1) を評価して (例: 2だとする) f(2) を呼ぶ

---

## 遅延評価とは

- 評価戦略の１つ 
- 関数の引数が実際に使われるときにだけ評価される(ref: TaPL)
- 引数が実際に使われるときにだけ評価される(ref: TaPL)
- 非正格性は一般的な関数型プログラムの効率性とモジュール性を向上させるための基本的な手法である（モジュール性とは？if2が実装できているから向上しているといえる？）


---

## 正格関数とは

- 評価戦略として正格評価が使われる関数
- 関数の引数が常に評価される
- 多くの言語の関数定義は正格関数である(Scalaも明示的に指定しなければ正格評価である)


---

## 非正格関数とは

- 評価戦略として遅延評価が使われる関数
- 引数の一つ以上を評価しないという選択が可能な関数

---

## scalaの具体例を書く

